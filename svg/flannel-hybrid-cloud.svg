<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="800" height="600" fill="#f8f9fa" />
  
  <!-- 标题 -->
  <text x="400" y="30" font-family="Arial" font-size="20" text-anchor="middle" fill="#1890ff" font-weight="bold">混合云环境中的Flannel VXLAN架构</text>
  
  <!-- 私有数据中心区域 -->
  <rect x="50" y="70" width="300" height="450" rx="10" fill="#e6f7ff" stroke="#1890ff" stroke-width="2" />
  <text x="200" y="100" font-family="Arial" font-size="18" text-anchor="middle" fill="#0050b3">私有数据中心</text>
  
  <!-- AWS云区域 -->
  <rect x="450" y="70" width="300" height="450" rx="10" fill="#fff7e6" stroke="#fa8c16" stroke-width="2" />
  <text x="600" y="100" font-family="Arial" font-size="18" text-anchor="middle" fill="#873800">AWS云</text>
  
  <!-- VPN隧道 -->
  <path d="M350,300 C400,250 400,350 450,300" stroke="#722ed1" stroke-width="4" fill="none" stroke-dasharray="10,5" />
  <text x="400" y="230" font-family="Arial" font-size="16" text-anchor="middle" fill="#391085">VPN隧道</text>
  
  <!-- 私有数据中心Kubernetes集群 -->
  <rect x="80" y="130" width="240" height="360" rx="5" fill="#f0f5ff" stroke="#2f54eb" stroke-width="1" />
  <text x="200" y="150" font-family="Arial" font-size="16" text-anchor="middle" fill="#10239e">Kubernetes集群</text>
  
  <!-- AWS Kubernetes集群 -->
  <rect x="480" y="130" width="240" height="360" rx="5" fill="#fff2e8" stroke="#fa8c16" stroke-width="1" />
  <text x="600" y="150" font-family="Arial" font-size="16" text-anchor="middle" fill="#873800">Kubernetes集群</text>
  
  <!-- 私有数据中心节点1 -->
  <rect x="100" y="180" width="90" height="120" rx="5" fill="#ffffff" stroke="#2f54eb" stroke-width="1" />
  <text x="145" y="200" font-family="Arial" font-size="14" text-anchor="middle" fill="#10239e">节点1</text>
  
  <!-- 私有数据中心节点1的Pod -->
  <circle cx="125" cy="230" r="15" fill="#f6ffed" stroke="#52c41a" stroke-width="1" />
  <text x="125" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="#135200">Pod</text>
  
  <circle cx="165" cy="230" r="15" fill="#f6ffed" stroke="#52c41a" stroke-width="1" />
  <text x="165" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="#135200">Pod</text>
  
  <!-- 私有数据中心节点1的Flannel -->
  <rect x="110" y="260" width="70" height="30" rx="5" fill="#e6f7ff" stroke="#1890ff" stroke-width="1" />
  <text x="145" y="280" font-family="Arial" font-size="12" text-anchor="middle" fill="#0050b3">Flannel</text>
  
  <!-- 私有数据中心节点2 -->
  <rect x="210" y="180" width="90" height="120" rx="5" fill="#ffffff" stroke="#2f54eb" stroke-width="1" />
  <text x="255" y="200" font-family="Arial" font-size="14" text-anchor="middle" fill="#10239e">节点2</text>
  
  <!-- 私有数据中心节点2的Pod -->
  <circle cx="235" cy="230" r="15" fill="#f6ffed" stroke="#52c41a" stroke-width="1" />
  <text x="235" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="#135200">Pod</text>
  
  <circle cx="275" cy="230" r="15" fill="#f6ffed" stroke="#52c41a" stroke-width="1" />
  <text x="275" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="#135200">Pod</text>
  
  <!-- 私有数据中心节点2的Flannel -->
  <rect x="220" y="260" width="70" height="30" rx="5" fill="#e6f7ff" stroke="#1890ff" stroke-width="1" />
  <text x="255" y="280" font-family="Arial" font-size="12" text-anchor="middle" fill="#0050b3">Flannel</text>
  
  <!-- AWS节点1 -->
  <rect x="500" y="180" width="90" height="120" rx="5" fill="#ffffff" stroke="#fa8c16" stroke-width="1" />
  <text x="545" y="200" font-family="Arial" font-size="14" text-anchor="middle" fill="#873800">节点1</text>
  
  <!-- AWS节点1的Pod -->
  <circle cx="525" cy="230" r="15" fill="#f6ffed" stroke="#52c41a" stroke-width="1" />
  <text x="525" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="#135200">Pod</text>
  
  <circle cx="565" cy="230" r="15" fill="#f6ffed" stroke="#52c41a" stroke-width="1" />
  <text x="565" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="#135200">Pod</text>
  
  <!-- AWS节点1的Flannel -->
  <rect x="510" y="260" width="70" height="30" rx="5" fill="#e6f7ff" stroke="#1890ff" stroke-width="1" />
  <text x="545" y="280" font-family="Arial" font-size="12" text-anchor="middle" fill="#0050b3">Flannel</text>
  
  <!-- AWS节点2 -->
  <rect x="610" y="180" width="90" height="120" rx="5" fill="#ffffff" stroke="#fa8c16" stroke-width="1" />
  <text x="655" y="200" font-family="Arial" font-size="14" text-anchor="middle" fill="#873800">节点2</text>
  
  <!-- AWS节点2的Pod -->
  <circle cx="635" cy="230" r="15" fill="#f6ffed" stroke="#52c41a" stroke-width="1" />
  <text x="635" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="#135200">Pod</text>
  
  <circle cx="675" cy="230" r="15" fill="#f6ffed" stroke="#52c41a" stroke-width="1" />
  <text x="675" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="#135200">Pod</text>
  
  <!-- AWS节点2的Flannel -->
  <rect x="620" y="260" width="70" height="30" rx="5" fill="#e6f7ff" stroke="#1890ff" stroke-width="1" />
  <text x="655" y="280" font-family="Arial" font-size="12" text-anchor="middle" fill="#0050b3">Flannel</text>
  
  <!-- 私有数据中心网络 -->
  <rect x="100" y="330" width="200" height="40" rx="5" fill="#e6f7ff" stroke="#1890ff" stroke-width="1" />
  <text x="200" y="355" font-family="Arial" font-size="14" text-anchor="middle" fill="#0050b3">VXLAN网络 (10.244.0.0/16)</text>
  
  <!-- AWS网络 -->
  <rect x="500" y="330" width="200" height="40" rx="5" fill="#e6f7ff" stroke="#1890ff" stroke-width="1" />
  <text x="600" y="355" font-family="Arial" font-size="14" text-anchor="middle" fill="#0050b3">VXLAN网络 (10.244.0.0/16)</text>
  
  <!-- 私有数据中心节点连接 -->
  <line x1="145" y1="290" x2="145" y2="330" stroke="#1890ff" stroke-width="2" />
  <line x1="255" y1="290" x2="255" y2="330" stroke="#1890ff" stroke-width="2" />
  
  <!-- AWS节点连接 -->
  <line x1="545" y1="290" x2="545" y2="330" stroke="#1890ff" stroke-width="2" />
  <line x1="655" y1="290" x2="655" y2="330" stroke="#1890ff" stroke-width="2" />
  
  <!-- 私有数据中心VPN网关 -->
  <rect x="150" y="400" width="100" height="40" rx="5" fill="#f9f0ff" stroke="#722ed1" stroke-width="1" />
  <text x="200" y="425" font-family="Arial" font-size="14" text-anchor="middle" fill="#391085">VPN网关</text>
  
  <!-- AWS VPN网关 -->
  <rect x="550" y="400" width="100" height="40" rx="5" fill="#f9f0ff" stroke="#722ed1" stroke-width="1" />
  <text x="600" y="425" font-family="Arial" font-size="14" text-anchor="middle" fill="#391085">VPN网关</text>
  
  <!-- 私有数据中心VPN连接 -->
  <line x1="200" y1="370" x2="200" y2="400" stroke="#722ed1" stroke-width="2" />
  
  <!-- AWS VPN连接 -->
  <line x1="600" y1="370" x2="600" y2="400" stroke="#722ed1" stroke-width="2" />
  
  <!-- VPN隧道连接 -->
  <line x1="250" y1="420" x2="350" y2="420" stroke="#722ed1" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="450" y1="420" x2="550" y2="420" stroke="#722ed1" stroke-width="2" stroke-dasharray="5,5" />
  
  <!-- 私有数据中心防火墙 -->
  <rect x="100" y="460" width="200" height="30" rx="5" fill="#fff0f6" stroke="#eb2f96" stroke-width="1" />
  <text x="200" y="480" font-family="Arial" font-size="14" text-anchor="middle" fill="#c41d7f">防火墙 (允许UDP 4789)</text>
  
  <!-- AWS安全组 -->
  <rect x="500" y="460" width="200" height="30" rx="5" fill="#fff0f6" stroke="#eb2f96" stroke-width="1" />
  <text x="600" y="480" font-family="Arial" font-size="14" text-anchor="middle" fill="#c41d7f">安全组 (允许UDP 4789)</text>
  
  <!-- 私有数据中心防火墙连接 -->
  <line x1="200" y1="440" x2="200" y2="460" stroke="#eb2f96" stroke-width="2" />
  
  <!-- AWS安全组连接 -->
  <line x1="600" y1="440" x2="600" y2="460" stroke="#eb2f96" stroke-width="2" />
  
  <!-- 图例 -->
  <rect x="50" y="530" width="15" height="15" fill="#f6ffed" stroke="#52c41a" stroke-width="1" />
  <text x="75" y="543" font-family="Arial" font-size="14" fill="#000">Pod</text>
  
  <rect x="150" y="530" width="15" height="15" fill="#e6f7ff" stroke="#1890ff" stroke-width="1" />
  <text x="175" y="543" font-family="Arial" font-size="14" fill="#000">Flannel/VXLAN</text>
  
  <rect x="300" y="530" width="15" height="15" fill="#f9f0ff" stroke="#722ed1" stroke-width="1" />
  <text x="325" y="543" font-family="Arial" font-size="14" fill="#000">VPN连接</text>
  
  <rect x="450" y="530" width="15" height="15" fill="#fff0f6" stroke="#eb2f96" stroke-width="1" />
  <text x="475" y="543" font-family="Arial" font-size="14" fill="#000">防火墙/安全组</text>
  
  <rect x="600" y="530" width="15" height="15" fill="#ffffff" stroke="#2f54eb" stroke-width="1" />
  <text x="625" y="543" font-family="Arial" font-size="14" fill="#000">节点</text>
  
  <!-- 说明文本 -->
  <text x="400" y="570" font-family="Arial" font-size="14" text-anchor="middle" fill="#000">VXLAN数据包通过VPN隧道在两个环境之间安全传输</text>
</svg>
